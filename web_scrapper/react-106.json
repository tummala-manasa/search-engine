{"id": 106, "url": "https://react.dev/reference/react/hooks", "title": "Built-in React Hooks", "content": "'Built-in React Hooks – React', 'Stream React Conf on May 15-16.', 'Learn more.', 'React', 'Search', '⌘', 'Ctrl', 'K', 'Learn', 'Reference', 'Community', 'Blog', 'react@18.2.0', 'Overview', ' ', 'Hooks', ' ', 'use', ' ', ' - This feature is available in the latest Canary', 'useCallback', ' ', 'useContext', ' ', 'useDebugValue', ' ', 'useDeferredValue', ' ', 'useEffect', ' ', 'useId', ' ', 'useImperativeHandle', ' ', 'useInsertionEffect', ' ', 'useLayoutEffect', ' ', 'useMemo', ' ', 'useOptimistic', ' ', ' - This feature is available in the latest Canary', 'useReducer', ' ', 'useRef', ' ', 'useState', ' ', 'useSyncExternalStore', ' ', 'useTransition', ' ', 'Components', ' ', '<Fragment> (<>)', ' ', '<Profiler>', ' ', '<StrictMode>', ' ', '<Suspense>', ' ', 'APIs', ' ', 'cache', ' ', ' - This feature is available in the latest Canary', 'createContext', ' ', 'forwardRef', ' ', 'lazy', ' ', 'memo', ' ', 'startTransition', ' ', 'experimental_taintObjectReference', ' ', ' - This feature is available in the latest Canary', 'experimental_taintUniqueValue', ' ', ' - This feature is available in the latest Canary', 'Directives', ' ', ' - This feature is available in the latest Canary', \"'use client'\", ' ', ' - This feature is available in the latest Canary', \"'use server'\", ' ', ' - This feature is available in the latest Canary', 'react-dom@18.2.0', 'Hooks', ' ', 'useFormState', ' ', ' - This feature is available in the latest Canary', 'useFormStatus', ' ', ' - This feature is available in the latest Canary', 'Components', ' ', 'Common (e.g. <div>)', ' ', '<form>', ' ', ' - This feature is available in the latest Canary', '<input>', ' ', '<option>', ' ', '<progress>', ' ', '<select>', ' ', '<textarea>', ' ', '<link>', ' ', ' - This feature is available in the latest Canary', '<meta>', ' ', ' - This feature is available in the latest Canary', '<script>', ' ', ' - This feature is available in the latest Canary', '<style>', ' ', ' - This feature is available in the latest Canary', '<title>', ' ', ' - This feature is available in the latest Canary', 'APIs', ' ', 'createPortal', ' ', 'flushSync', ' ', 'findDOMNode', ' ', 'hydrate', ' ', 'preconnect', ' ', ' - This feature is available in the latest Canary', 'prefetchDNS', ' ', ' - This feature is available in the latest Canary', 'preinit', ' ', ' - This feature is available in the latest Canary', 'preinitModule', ' ', ' - This feature is available in the latest Canary', 'preload', ' ', ' - This feature is available in the latest Canary', 'preloadModule', ' ', ' - This feature is available in the latest Canary', 'render', ' ', 'unmountComponentAtNode', ' ', 'Client APIs', ' ', 'createRoot', ' ', 'hydrateRoot', ' ', 'Server APIs', ' ', 'renderToNodeStream', ' ', 'renderToPipeableStream', ' ', 'renderToReadableStream', ' ', 'renderToStaticMarkup', ' ', 'renderToStaticNodeStream', ' ', 'renderToString', ' ', 'Rules of React', 'Overview', ' ', 'Components and Hooks must be pure', ' ', 'React calls Components and Hooks', ' ', 'Rules of Hooks', ' ', 'Legacy APIs', 'Legacy React APIs', ' ', 'Children', ' ', 'cloneElement', ' ', 'Component', ' ', 'createElement', ' ', 'createFactory', ' ', 'createRef', ' ', 'isValidElement', ' ', 'PureComponent', ' ', 'Is this page useful?', 'API Reference', 'Built-in React Hooks', 'Hooks', ' let you use different React features from your components. You can either use the built-in Hooks or combine them to build your own. This page lists all built-in Hooks in React.', '\\n', '\\n', 'State Hooks ', '\\n', 'State', ' lets a component ', '“remember” information like user input.', ' For example, a form component can use state to store the input value, while an image gallery component can use state to store the selected image index.', '\\n', 'To add state to a component, use one of these Hooks:', '\\n', '\\n', 'useState', ' declares a state variable that you can update directly.', '\\n', 'useReducer', ' declares a state variable with the update logic inside a ', 'reducer function.', '\\n', '\\n', 'function', ' ', 'ImageGallery', '(', ')', ' ', '{', '  ', 'const', ' ', '[', 'index', ',', ' ', 'setIndex', ']', ' = ', 'useState', '(', '0', ')', ';', '  ', '// ...', '\\n', '\\n', 'Context Hooks ', '\\n', 'Context', ' lets a component ', 'receive information from distant parents without passing it as props.', ' For example, your app’s top-level component can pass the current UI theme to all components below, no matter how deep.', '\\n', '\\n', 'useContext', ' reads and subscribes to a context.', '\\n', '\\n', 'function', ' ', 'Button', '(', ')', ' ', '{', '  ', 'const', ' ', 'theme', ' = ', 'useContext', '(', 'ThemeContext', ')', ';', '  ', '// ...', '\\n', '\\n', 'Ref Hooks ', '\\n', 'Refs', ' let a component ', 'hold some information that isn’t used for rendering,', ' like a DOM node or a timeout ID. Unlike with state, updating a ref does not re-render your component. Refs are an “escape hatch” from the React paradigm. They are useful when you need to work with non-React systems, such as the built-in browser APIs.', '\\n', '\\n', 'useRef', ' declares a ref. You can hold any value in it, but most often it’s used to hold a DOM node.', '\\n', 'useImperativeHandle', ' lets you customize the ref exposed by your component. This is rarely used.', '\\n', '\\n', 'function', ' ', 'Form', '(', ')', ' ', '{', '  ', 'const', ' ', 'inputRef', ' = ', 'useRef', '(', 'null', ')', ';', '  ', '// ...', '\\n', '\\n', 'Effect Hooks ', '\\n', 'Effects', ' let a component ', 'connect to and synchronize with external systems.', ' This includes dealing with network, browser DOM, animations, widgets written using a different UI library, and other non-React code.', '\\n', '\\n', 'useEffect', ' connects a component to an external system.', '\\n', '\\n', 'function', ' ', 'ChatRoom', '(', '{', ' ', 'roomId', ' ', '}', ')', ' ', '{', '  ', 'useEffect', '(', '(', ')', ' ', '=>', ' ', '{', '    ', 'const', ' ', 'connection', ' = ', 'createConnection', '(', 'roomId', ')', ';', '    ', 'connection', '.', 'connect', '(', ')', ';', '    ', 'return', ' ', '(', ')', ' ', '=>', ' ', 'connection', '.', 'disconnect', '(', ')', ';', '  ', '}', ',', ' ', '[', 'roomId', ']', ')', ';', '  ', '// ...', '\\n', 'Effects are an “escape hatch” from the React paradigm. Don’t use Effects to orchestrate the data flow of your application. If you’re not interacting with an external system, ', 'you might not need an Effect.', '\\n', 'There are two rarely used variations of ', 'useEffect', ' with differences in timing:', '\\n', '\\n', 'useLayoutEffect', ' fires before the browser repaints the screen. You can measure layout here.', '\\n', 'useInsertionEffect', ' fires before React makes changes to the DOM. Libraries can insert dynamic CSS here.', '\\n', '\\n', '\\n', 'Performance Hooks ', '\\n', 'A common way to optimize re-rendering performance is to skip unnecessary work. For example, you can tell React to reuse a cached calculation or to skip a re-render if the data has not changed since the previous render.', '\\n', 'To skip calculations and unnecessary re-rendering, use one of these Hooks:', '\\n', '\\n', 'useMemo', ' lets you cache the result of an expensive calculation.', '\\n', 'useCallback', ' lets you cache a function definition before passing it down to an optimized component.', '\\n', '\\n', 'function', ' ', 'TodoList', '(', '{', ' ', 'todos', ',', ' ', 'tab', ',', ' ', 'theme', ' ', '}', ')', ' ', '{', '  ', 'const', ' ', 'visibleTodos', ' = ', 'useMemo', '(', '(', ')', ' ', '=>', ' ', 'filterTodos', '(', 'todos', ',', ' ', 'tab', ')', ',', ' ', '[', 'todos', ',', ' ', 'tab', ']', ')', ';', '  ', '// ...', '}', '\\n', 'Sometimes, you can’t skip re-rendering because the screen actually needs to update. In that case, you can improve performance by separating blocking updates that must be synchronous (like typing into an input) from non-blocking updates which don’t need to block the user interface (like updating a chart).', '\\n', 'To prioritize rendering, use one of these Hooks:', '\\n', '\\n', 'useTransition', ' lets you mark a state transition as non-blocking and allow other updates to interrupt it.', '\\n', 'useDeferredValue', ' lets you defer updating a non-critical part of the UI and let other parts update first.', '\\n', '\\n', '\\n', 'Resource Hooks ', '\\n', 'Resources', ' can be accessed by a component without having them as part of their state. For example, a component can read a message from a Promise or read styling information from a context.', '\\n', 'To read a value from a resource, use this Hook:', '\\n', '\\n', 'use', ' lets you read the value of a resource like a ', 'Promise', ' or ', 'context', '.', '\\n', '\\n', 'function', ' ', 'MessageComponent', '(', '{', ' ', 'messagePromise', ' ', '}', ')', ' ', '{', '  ', 'const', ' ', 'message', ' = ', 'use', '(', 'messagePromise', ')', ';', '  ', 'const', ' ', 'theme', ' = ', 'use', '(', 'ThemeContext', ')', ';', '  ', '// ...', '}', '\\n', '\\n', 'Other Hooks ', '\\n', 'These Hooks are mostly useful to library authors and aren’t commonly used in the application code.', '\\n', '\\n', 'useDebugValue', ' lets you customize the label React DevTools displays for your custom Hook.', '\\n', 'useId', ' lets a component associate a unique ID with itself. Typically used with accessibility APIs.', '\\n', 'useSyncExternalStore', ' lets a component subscribe to an external store.', '\\n', '\\n', '\\n', 'Your own Hooks ', '\\n', 'You can also ', 'define your own custom Hooks', ' as JavaScript functions.', 'Previous', 'Overview', 'Next', 'use', 'How do you like these docs?', 'Take our survey!', '©', '2024', 'Learn React', 'Quick Start', 'Installation', 'Describing the UI', 'Adding Interactivity', 'Managing State', 'Escape Hatches', 'API Reference', 'React APIs', 'React DOM APIs', 'Community', 'Code of Conduct', 'Meet the Team', 'Docs Contributors', 'Acknowledgements', 'More', 'Blog', 'React Native', 'Privacy', 'Terms', 'On this page', 'Overview', 'State Hooks ', 'Context Hooks ', 'Ref Hooks ', 'Effect Hooks ', 'Performance Hooks ', 'Resource Hooks ', 'Other Hooks ', 'Your own Hooks ', "}