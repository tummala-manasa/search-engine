{"id": 30, "url": "https://react.dev/reference/react/createRef", "title": "createRef", "content": "'createRef – React', 'Stream React Conf on May 15-16.', 'Learn more.', 'React', 'Search', '⌘', 'Ctrl', 'K', 'Learn', 'Reference', 'Community', 'Blog', 'react@18.2.0', 'Overview', ' ', 'Hooks', ' ', 'use', ' ', ' - This feature is available in the latest Canary', 'useCallback', ' ', 'useContext', ' ', 'useDebugValue', ' ', 'useDeferredValue', ' ', 'useEffect', ' ', 'useId', ' ', 'useImperativeHandle', ' ', 'useInsertionEffect', ' ', 'useLayoutEffect', ' ', 'useMemo', ' ', 'useOptimistic', ' ', ' - This feature is available in the latest Canary', 'useReducer', ' ', 'useRef', ' ', 'useState', ' ', 'useSyncExternalStore', ' ', 'useTransition', ' ', 'Components', ' ', '<Fragment> (<>)', ' ', '<Profiler>', ' ', '<StrictMode>', ' ', '<Suspense>', ' ', 'APIs', ' ', 'cache', ' ', ' - This feature is available in the latest Canary', 'createContext', ' ', 'forwardRef', ' ', 'lazy', ' ', 'memo', ' ', 'startTransition', ' ', 'experimental_taintObjectReference', ' ', ' - This feature is available in the latest Canary', 'experimental_taintUniqueValue', ' ', ' - This feature is available in the latest Canary', 'Directives', ' ', ' - This feature is available in the latest Canary', \"'use client'\", ' ', ' - This feature is available in the latest Canary', \"'use server'\", ' ', ' - This feature is available in the latest Canary', 'react-dom@18.2.0', 'Hooks', ' ', 'useFormState', ' ', ' - This feature is available in the latest Canary', 'useFormStatus', ' ', ' - This feature is available in the latest Canary', 'Components', ' ', 'Common (e.g. <div>)', ' ', '<form>', ' ', ' - This feature is available in the latest Canary', '<input>', ' ', '<option>', ' ', '<progress>', ' ', '<select>', ' ', '<textarea>', ' ', '<link>', ' ', ' - This feature is available in the latest Canary', '<meta>', ' ', ' - This feature is available in the latest Canary', '<script>', ' ', ' - This feature is available in the latest Canary', '<style>', ' ', ' - This feature is available in the latest Canary', '<title>', ' ', ' - This feature is available in the latest Canary', 'APIs', ' ', 'createPortal', ' ', 'flushSync', ' ', 'findDOMNode', ' ', 'hydrate', ' ', 'preconnect', ' ', ' - This feature is available in the latest Canary', 'prefetchDNS', ' ', ' - This feature is available in the latest Canary', 'preinit', ' ', ' - This feature is available in the latest Canary', 'preinitModule', ' ', ' - This feature is available in the latest Canary', 'preload', ' ', ' - This feature is available in the latest Canary', 'preloadModule', ' ', ' - This feature is available in the latest Canary', 'render', ' ', 'unmountComponentAtNode', ' ', 'Client APIs', ' ', 'createRoot', ' ', 'hydrateRoot', ' ', 'Server APIs', ' ', 'renderToNodeStream', ' ', 'renderToPipeableStream', ' ', 'renderToReadableStream', ' ', 'renderToStaticMarkup', ' ', 'renderToStaticNodeStream', ' ', 'renderToString', ' ', 'Rules of React', 'Overview', ' ', 'Components and Hooks must be pure', ' ', 'React calls Components and Hooks', ' ', 'Rules of Hooks', ' ', 'Legacy APIs', 'Legacy React APIs', ' ', 'Children', ' ', 'cloneElement', ' ', 'Component', ' ', 'createElement', ' ', 'createFactory', ' ', 'createRef', ' ', 'isValidElement', ' ', 'PureComponent', ' ', 'Is this page useful?', 'API Reference', 'Legacy React APIs', 'createRef', 'Pitfall', 'createRef', ' is mostly used for ', 'class components.', ' Function components typically rely on ', 'useRef', ' instead.', '\\n', 'createRef', ' creates a ', 'ref', ' object which can contain arbitrary value.', 'class', ' MyInput ', 'extends', ' ', 'Component', ' ', '{', '  ', 'inputRef', ' = ', 'createRef', '(', ')', ';', '  ', '// ...', '}', '\\n', 'Reference ', 'createRef()', ' ', 'Usage ', 'Declaring a ref in a class component ', 'Alternatives ', 'Migrating from a class with ', 'createRef', ' to a function with ', 'useRef', ' ', '\\n', '\\n', 'Reference ', '\\n', 'createRef()', ' ', '\\n', 'Call ', 'createRef', ' to declare a ', 'ref', ' inside a ', 'class component.', '\\n', 'import', ' ', '{', ' ', 'createRef', ',', ' ', 'Component', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', 'class', ' MyComponent ', 'extends', ' ', 'Component', ' ', '{', '  ', 'intervalRef', ' = ', 'createRef', '(', ')', ';', '  ', 'inputRef', ' = ', 'createRef', '(', ')', ';', '  ', '// ...', '\\n', 'See more examples below.', '\\n', 'Parameters ', '\\n', 'createRef', ' takes no parameters.', '\\n', 'Returns ', '\\n', 'createRef', ' returns an object with a single property:', '\\n', '\\n', 'current', ': Initially, it’s set to the ', 'null', '. You can later set it to something else. If you pass the ref object to React as a ', 'ref', ' attribute to a JSX node, React will set its ', 'current', ' property.', '\\n', '\\n', 'Caveats ', '\\n', '\\n', 'createRef', ' always returns a ', 'different', ' object. It’s equivalent to writing ', '{ current: null }', ' yourself.', '\\n', 'In a function component, you probably want ', 'useRef', ' instead which always returns the same object.', '\\n', 'const ref = useRef()', ' is equivalent to ', 'const [ref, _] = useState(() => createRef(null))', '.', '\\n', '\\n', '\\n', 'Usage ', '\\n', 'Declaring a ref in a class component ', '\\n', 'To declare a ref inside a ', 'class component,', ' call ', 'createRef', ' and assign its result to a class field:', '\\n', 'import', ' ', '{', ' ', 'Component', ',', ' ', 'createRef', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', 'class', ' Form ', 'extends', ' ', 'Component', ' ', '{', '  ', 'inputRef', ' = ', 'createRef', '(', ')', ';', '  ', '// ...', '}', '\\n', 'If you now pass ', 'ref={this.inputRef}', ' to an ', '<input>', ' in your JSX, React will populate ', 'this.inputRef.current', ' with the input DOM node. For example, here is how you make a button that focuses the input:', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'Component', ',', ' ', 'createRef', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'export', ' ', 'default', ' ', 'class', ' Form ', 'extends', ' ', 'Component', ' ', '{', '\\n  ', 'inputRef', ' = ', 'createRef', '(', ')', ';', '\\n\\n  ', 'handleClick', ' = ', '(', ')', ' ', '=>', ' ', '{', '\\n    ', 'this', '.', 'inputRef', '.', 'current', '.', 'focus', '(', ')', ';', '\\n  ', '}', '\\n\\n  ', 'render', '(', ')', ' ', '{', '\\n    ', 'return', ' ', '(', '\\n      ', '<', '>', '\\n        ', '<', 'input', ' ', 'ref', '=', '{', 'this', '.', 'inputRef', '}', ' ', '/>', '\\n        ', '<', 'button', ' ', 'onClick', '=', '{', 'this', '.', 'handleClick', '}', '>', '\\n          Focus the input\\n        ', '</', 'button', '>', '\\n      ', '</', '>', '\\n    ', ')', ';', '\\n  ', '}', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'Pitfall', 'createRef', ' is mostly used for ', 'class components.', ' Function components typically rely on ', 'useRef', ' instead.', '\\n', '\\n', 'Alternatives ', '\\n', 'Migrating from a class with ', 'createRef', ' to a function with ', 'useRef', ' ', '\\n', 'We recommend using function components instead of ', 'class components', ' in new code. If you have some existing class components using ', 'createRef', ', here is how you can convert them. This is the original code:', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'Component', ',', ' ', 'createRef', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'export', ' ', 'default', ' ', 'class', ' Form ', 'extends', ' ', 'Component', ' ', '{', '\\n  ', 'inputRef', ' = ', 'createRef', '(', ')', ';', '\\n\\n  ', 'handleClick', ' = ', '(', ')', ' ', '=>', ' ', '{', '\\n    ', 'this', '.', 'inputRef', '.', 'current', '.', 'focus', '(', ')', ';', '\\n  ', '}', '\\n\\n  ', 'render', '(', ')', ' ', '{', '\\n    ', 'return', ' ', '(', '\\n      ', '<', '>', '\\n        ', '<', 'input', ' ', 'ref', '=', '{', 'this', '.', 'inputRef', '}', ' ', '/>', '\\n        ', '<', 'button', ' ', 'onClick', '=', '{', 'this', '.', 'handleClick', '}', '>', '\\n          Focus the input\\n        ', '</', 'button', '>', '\\n      ', '</', '>', '\\n    ', ')', ';', '\\n  ', '}', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'When you ', 'convert this component from a class to a function,', ' replace calls to ', 'createRef', ' with calls to ', 'useRef', ':', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'useRef', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'Form', '(', ')', ' ', '{', '\\n  ', 'const', ' ', 'inputRef', ' = ', 'useRef', '(', 'null', ')', ';', '\\n\\n  ', 'function', ' ', 'handleClick', '(', ')', ' ', '{', '\\n    ', 'inputRef', '.', 'current', '.', 'focus', '(', ')', ';', '\\n  ', '}', '\\n\\n  ', 'return', ' ', '(', '\\n    ', '<', '>', '\\n      ', '<', 'input', ' ', 'ref', '=', '{', 'inputRef', '}', ' ', '/>', '\\n      ', '<', 'button', ' ', 'onClick', '=', '{', 'handleClick', '}', '>', '\\n        Focus the input\\n      ', '</', 'button', '>', '\\n    ', '</', '>', '\\n  ', ')', ';', '\\n', '}', '\\n\\n', 'Show more', 'Previous', 'createFactory', 'Next', 'isValidElement', 'How do you like these docs?', 'Take our survey!', '©', '2024', 'Learn React', 'Quick Start', 'Installation', 'Describing the UI', 'Adding Interactivity', 'Managing State', 'Escape Hatches', 'API Reference', 'React APIs', 'React DOM APIs', 'Community', 'Code of Conduct', 'Meet the Team', 'Docs Contributors', 'Acknowledgements', 'More', 'Blog', 'React Native', 'Privacy', 'Terms', 'On this page', 'Overview', 'Reference ', 'createRef()', ' ', 'Usage ', 'Declaring a ref in a class component ', 'Alternatives ', 'Migrating from a class with ', 'createRef', ' to a function with ', 'useRef', ' ', "}