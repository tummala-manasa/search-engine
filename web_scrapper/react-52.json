{"id": 52, "url": "https://react.dev/reference/react-dom/preload", "title": "preload", "content": "'preload – React', 'Stream React Conf on May 15-16.', 'Learn more.', 'React', 'Search', '⌘', 'Ctrl', 'K', 'Learn', 'Reference', 'Community', 'Blog', 'react@18.2.0', 'Overview', ' ', 'Hooks', ' ', 'use', ' ', ' - This feature is available in the latest Canary', 'useCallback', ' ', 'useContext', ' ', 'useDebugValue', ' ', 'useDeferredValue', ' ', 'useEffect', ' ', 'useId', ' ', 'useImperativeHandle', ' ', 'useInsertionEffect', ' ', 'useLayoutEffect', ' ', 'useMemo', ' ', 'useOptimistic', ' ', ' - This feature is available in the latest Canary', 'useReducer', ' ', 'useRef', ' ', 'useState', ' ', 'useSyncExternalStore', ' ', 'useTransition', ' ', 'Components', ' ', '<Fragment> (<>)', ' ', '<Profiler>', ' ', '<StrictMode>', ' ', '<Suspense>', ' ', 'APIs', ' ', 'cache', ' ', ' - This feature is available in the latest Canary', 'createContext', ' ', 'forwardRef', ' ', 'lazy', ' ', 'memo', ' ', 'startTransition', ' ', 'experimental_taintObjectReference', ' ', ' - This feature is available in the latest Canary', 'experimental_taintUniqueValue', ' ', ' - This feature is available in the latest Canary', 'Directives', ' ', ' - This feature is available in the latest Canary', \"'use client'\", ' ', ' - This feature is available in the latest Canary', \"'use server'\", ' ', ' - This feature is available in the latest Canary', 'react-dom@18.2.0', 'Hooks', ' ', 'useFormState', ' ', ' - This feature is available in the latest Canary', 'useFormStatus', ' ', ' - This feature is available in the latest Canary', 'Components', ' ', 'Common (e.g. <div>)', ' ', '<form>', ' ', ' - This feature is available in the latest Canary', '<input>', ' ', '<option>', ' ', '<progress>', ' ', '<select>', ' ', '<textarea>', ' ', '<link>', ' ', ' - This feature is available in the latest Canary', '<meta>', ' ', ' - This feature is available in the latest Canary', '<script>', ' ', ' - This feature is available in the latest Canary', '<style>', ' ', ' - This feature is available in the latest Canary', '<title>', ' ', ' - This feature is available in the latest Canary', 'APIs', ' ', 'createPortal', ' ', 'flushSync', ' ', 'findDOMNode', ' ', 'hydrate', ' ', 'preconnect', ' ', ' - This feature is available in the latest Canary', 'prefetchDNS', ' ', ' - This feature is available in the latest Canary', 'preinit', ' ', ' - This feature is available in the latest Canary', 'preinitModule', ' ', ' - This feature is available in the latest Canary', 'preload', ' ', ' - This feature is available in the latest Canary', 'preloadModule', ' ', ' - This feature is available in the latest Canary', 'render', ' ', 'unmountComponentAtNode', ' ', 'Client APIs', ' ', 'createRoot', ' ', 'hydrateRoot', ' ', 'Server APIs', ' ', 'renderToNodeStream', ' ', 'renderToPipeableStream', ' ', 'renderToReadableStream', ' ', 'renderToStaticMarkup', ' ', 'renderToStaticNodeStream', ' ', 'renderToString', ' ', 'Rules of React', 'Overview', ' ', 'Components and Hooks must be pure', ' ', 'React calls Components and Hooks', ' ', 'Rules of Hooks', ' ', 'Legacy APIs', 'Legacy React APIs', ' ', 'Children', ' ', 'cloneElement', ' ', 'Component', ' ', 'createElement', ' ', 'createFactory', ' ', 'createRef', ' ', 'isValidElement', ' ', 'PureComponent', ' ', 'Is this page useful?', 'API Reference', 'APIs', 'preload', ' - This feature is available in the latest Canary', 'Canary', 'The ', 'preload', ' function is currently only available in React’s Canary and experimental channels. Learn more about ', 'React’s release channels here', '.', '\\n', 'Note', 'React-based frameworks', ' frequently handle resource loading for you, so you might not have to call this API yourself. Consult your framework’s documentation for details.', '\\n', 'preload', ' lets you eagerly fetch a resource such as a stylesheet, font, or external script that you expect to use.', 'preload', '(', '\"https://example.com/font.woff2\"', ',', ' ', '{', 'as', ':', ' ', '\"font\"', '}', ')', ';', '\\n', 'Reference ', 'preload(href, options)', ' ', 'Usage ', 'Preloading when rendering ', 'Preloading in an event handler ', '\\n', '\\n', 'Reference ', '\\n', 'preload(href, options)', ' ', '\\n', 'To preload a resource, call the ', 'preload', ' function from ', 'react-dom', '.', '\\n', 'import', ' ', '{', ' ', 'preload', ' ', '}', ' ', 'from', ' ', \"'react-dom'\", ';', 'function', ' ', 'AppRoot', '(', ')', ' ', '{', '  ', 'preload', '(', '\"https://example.com/font.woff2\"', ',', ' ', '{', 'as', ':', ' ', '\"font\"', '}', ')', ';', '  ', '// ...', '}', '\\n', 'See more examples below.', '\\n', 'The ', 'preload', ' function provides the browser with a hint that it should start downloading the given resource, which can save time.', '\\n', 'Parameters ', '\\n', '\\n', 'href', ': a string. The URL of the resource you want to download.', '\\n', 'options', ': an object. It contains the following properties:', '\\n', '\\n', 'as', ': a required string. The type of resource. Its ', 'possible values', ' are ', 'audio', ', ', 'document', ', ', 'embed', ', ', 'fetch', ', ', 'font', ', ', 'image', ', ', 'object', ', ', 'script', ', ', 'style', ', ', 'track', ', ', 'video', ', ', 'worker', '.', '\\n', 'crossOrigin', ': a string. The ', 'CORS policy', ' to use. Its possible values are ', 'anonymous', ' and ', 'use-credentials', '. It is required when ', 'as', ' is set to ', '\"fetch\"', '.', '\\n', 'referrerPolicy', ': a string. The ', 'Referrer header', ' to send when fetching. Its possible values are ', 'no-referrer-when-downgrade', ' (the default), ', 'no-referrer', ', ', 'origin', ', ', 'origin-when-cross-origin', ', and ', 'unsafe-url', '.', '\\n', 'integrity', ': a string. A cryptographic hash of the resource, to ', 'verify its authenticity', '.', '\\n', 'type', ': a string. The MIME type of the resource.', '\\n', 'nonce', ': a string. A cryptographic ', 'nonce to allow the resource', ' when using a strict Content Security Policy.', '\\n', 'fetchPriority', ': a string. Suggests a relative priority for fetching the resource. The possible values are ', 'auto', ' (the default), ', 'high', ', and ', 'low', '.', '\\n', 'imageSrcSet', ': a string. For use only with ', 'as: \"image\"', '. Specifies the ', 'source set of the image', '.', '\\n', 'imageSizes', ': a string. For use only with ', 'as: \"image\"', '. Specifies the ', 'sizes of the image', '.', '\\n', '\\n', '\\n', '\\n', 'Returns ', '\\n', 'preload', ' returns nothing.', '\\n', 'Caveats ', '\\n', '\\n', 'Multiple equivalent calls to ', 'preload', ' have the same effect as a single call. Calls to ', 'preload', ' are considered equivalent according to the following rules:', '\\n', '\\n', 'Two calls are equivalent if they have the same ', 'href', ', except:', '\\n', 'If ', 'as', ' is set to ', 'image', ', two calls are equivalent if they have the same ', 'href', ', ', 'imageSrcSet', ', and ', 'imageSizes', '.', '\\n', '\\n', '\\n', 'In the browser, you can call ', 'preload', ' in any situation: while rendering a component, in an Effect, in an event handler, and so on.', '\\n', 'In server-side rendering or when rendering Server Components, ', 'preload', ' only has an effect if you call it while rendering a component or in an async context originating from rendering a component. Any other calls will be ignored.', '\\n', '\\n', '\\n', 'Usage ', '\\n', 'Preloading when rendering ', '\\n', 'Call ', 'preload', ' when rendering a component if you know that it or its children will use a specific resource.', '\\n', 'Examples of preloading', '1', '. ', 'Preloading an external script ', '2', '. ', 'Preloading a stylesheet ', '3', '. ', 'Preloading a font ', '4', '. ', 'Preloading an image ', 'Example', ' ', '1', ' of', ' ', '4', ': ', 'Preloading an external script ', 'import', ' ', '{', ' ', 'preload', ' ', '}', ' ', 'from', ' ', \"'react-dom'\", ';', 'function', ' ', 'AppRoot', '(', ')', ' ', '{', '  ', 'preload', '(', '\"https://example.com/script.js\"', ',', ' ', '{', 'as', ':', ' ', '\"script\"', '}', ')', ';', '  ', 'return', ' ', '...', ';', '}', 'If you want the browser to start executing the script immediately (rather than just downloading it), use ', 'preinit', ' instead. If you want to load an ESM module, use ', 'preloadModule', '.', 'Next ', 'Example', '\\n', 'Preloading in an event handler ', '\\n', 'Call ', 'preload', ' in an event handler before transitioning to a page or state where external resources will be needed. This gets the process started earlier than if you call it during the rendering of the new page or state.', '\\n', 'import', ' ', '{', ' ', 'preload', ' ', '}', ' ', 'from', ' ', \"'react-dom'\", ';', 'function', ' ', 'CallToAction', '(', ')', ' ', '{', '  ', 'const', ' ', 'onClick', ' = ', '(', ')', ' ', '=>', ' ', '{', '    ', 'preload', '(', '\"https://example.com/wizardStyles.css\"', ',', ' ', '{', 'as', ':', ' ', '\"style\"', '}', ')', ';', '    ', 'startWizard', '(', ')', ';', '  ', '}', '  ', 'return', ' ', '(', '    ', '<', 'button', ' ', 'onClick', '=', '{', 'onClick', '}', '>', 'Start Wizard', '</', 'button', '>', '  ', ')', ';', '}', 'Previous', 'preinitModule', 'Next', 'preloadModule', 'How do you like these docs?', 'Take our survey!', '©', '2024', 'Learn React', 'Quick Start', 'Installation', 'Describing the UI', 'Adding Interactivity', 'Managing State', 'Escape Hatches', 'API Reference', 'React APIs', 'React DOM APIs', 'Community', 'Code of Conduct', 'Meet the Team', 'Docs Contributors', 'Acknowledgements', 'More', 'Blog', 'React Native', 'Privacy', 'Terms', 'On this page', 'Overview', 'Reference ', 'preload(href, options)', ' ', 'Usage ', 'Preloading when rendering ', 'Preloading in an event handler ', "}