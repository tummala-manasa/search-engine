{"id": 31, "url": "https://react.dev/reference/react/PureComponent", "title": "PureComponent", "content": "'PureComponent – React', 'Stream React Conf on May 15-16.', 'Learn more.', 'React', 'Search', '⌘', 'Ctrl', 'K', 'Learn', 'Reference', 'Community', 'Blog', 'react@18.2.0', 'Overview', ' ', 'Hooks', ' ', 'use', ' ', ' - This feature is available in the latest Canary', 'useCallback', ' ', 'useContext', ' ', 'useDebugValue', ' ', 'useDeferredValue', ' ', 'useEffect', ' ', 'useId', ' ', 'useImperativeHandle', ' ', 'useInsertionEffect', ' ', 'useLayoutEffect', ' ', 'useMemo', ' ', 'useOptimistic', ' ', ' - This feature is available in the latest Canary', 'useReducer', ' ', 'useRef', ' ', 'useState', ' ', 'useSyncExternalStore', ' ', 'useTransition', ' ', 'Components', ' ', '<Fragment> (<>)', ' ', '<Profiler>', ' ', '<StrictMode>', ' ', '<Suspense>', ' ', 'APIs', ' ', 'cache', ' ', ' - This feature is available in the latest Canary', 'createContext', ' ', 'forwardRef', ' ', 'lazy', ' ', 'memo', ' ', 'startTransition', ' ', 'experimental_taintObjectReference', ' ', ' - This feature is available in the latest Canary', 'experimental_taintUniqueValue', ' ', ' - This feature is available in the latest Canary', 'Directives', ' ', ' - This feature is available in the latest Canary', \"'use client'\", ' ', ' - This feature is available in the latest Canary', \"'use server'\", ' ', ' - This feature is available in the latest Canary', 'react-dom@18.2.0', 'Hooks', ' ', 'useFormState', ' ', ' - This feature is available in the latest Canary', 'useFormStatus', ' ', ' - This feature is available in the latest Canary', 'Components', ' ', 'Common (e.g. <div>)', ' ', '<form>', ' ', ' - This feature is available in the latest Canary', '<input>', ' ', '<option>', ' ', '<progress>', ' ', '<select>', ' ', '<textarea>', ' ', '<link>', ' ', ' - This feature is available in the latest Canary', '<meta>', ' ', ' - This feature is available in the latest Canary', '<script>', ' ', ' - This feature is available in the latest Canary', '<style>', ' ', ' - This feature is available in the latest Canary', '<title>', ' ', ' - This feature is available in the latest Canary', 'APIs', ' ', 'createPortal', ' ', 'flushSync', ' ', 'findDOMNode', ' ', 'hydrate', ' ', 'preconnect', ' ', ' - This feature is available in the latest Canary', 'prefetchDNS', ' ', ' - This feature is available in the latest Canary', 'preinit', ' ', ' - This feature is available in the latest Canary', 'preinitModule', ' ', ' - This feature is available in the latest Canary', 'preload', ' ', ' - This feature is available in the latest Canary', 'preloadModule', ' ', ' - This feature is available in the latest Canary', 'render', ' ', 'unmountComponentAtNode', ' ', 'Client APIs', ' ', 'createRoot', ' ', 'hydrateRoot', ' ', 'Server APIs', ' ', 'renderToNodeStream', ' ', 'renderToPipeableStream', ' ', 'renderToReadableStream', ' ', 'renderToStaticMarkup', ' ', 'renderToStaticNodeStream', ' ', 'renderToString', ' ', 'Rules of React', 'Overview', ' ', 'Components and Hooks must be pure', ' ', 'React calls Components and Hooks', ' ', 'Rules of Hooks', ' ', 'Legacy APIs', 'Legacy React APIs', ' ', 'Children', ' ', 'cloneElement', ' ', 'Component', ' ', 'createElement', ' ', 'createFactory', ' ', 'createRef', ' ', 'isValidElement', ' ', 'PureComponent', ' ', 'Is this page useful?', 'API Reference', 'Legacy React APIs', 'PureComponent', 'Pitfall', 'We recommend defining components as functions instead of classes. ', 'See how to migrate.', '\\n', 'PureComponent', ' is similar to ', 'Component', ' but it skips re-renders for same props and state. Class components are still supported by React, but we don’t recommend using them in new code.', 'class', ' Greeting ', 'extends', ' ', 'PureComponent', ' ', '{', '  ', 'render', '(', ')', ' ', '{', '    ', 'return', ' ', '<', 'h1', '>', 'Hello, ', '{', 'this', '.', 'props', '.', 'name', '}', '!', '</', 'h1', '>', ';', '  ', '}', '}', '\\n', 'Reference ', 'PureComponent', ' ', 'Usage ', 'Skipping unnecessary re-renders for class components ', 'Alternatives ', 'Migrating from a ', 'PureComponent', ' class component to a function ', '\\n', '\\n', 'Reference ', '\\n', 'PureComponent', ' ', '\\n', 'To skip re-rendering a class component for same props and state, extend ', 'PureComponent', ' instead of ', 'Component', ':', '\\n', 'import', ' ', '{', ' ', 'PureComponent', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', 'class', ' Greeting ', 'extends', ' ', 'PureComponent', ' ', '{', '  ', 'render', '(', ')', ' ', '{', '    ', 'return', ' ', '<', 'h1', '>', 'Hello, ', '{', 'this', '.', 'props', '.', 'name', '}', '!', '</', 'h1', '>', ';', '  ', '}', '}', '\\n', 'PureComponent', ' is a subclass of ', 'Component', ' and supports ', 'all the ', 'Component', ' APIs.', ' Extending ', 'PureComponent', ' is equivalent to defining a custom ', 'shouldComponentUpdate', ' method that shallowly compares props and state.', '\\n', 'See more examples below.', '\\n', '\\n', 'Usage ', '\\n', 'Skipping unnecessary re-renders for class components ', '\\n', 'React normally re-renders a component whenever its parent re-renders. As an optimization, you can create a component that React will not re-render when its parent re-renders so long as its new props and state are the same as the old props and state. ', 'Class components', ' can opt into this behavior by extending ', 'PureComponent', ':', '\\n', 'class', ' Greeting ', 'extends', ' ', 'PureComponent', ' ', '{', '  ', 'render', '(', ')', ' ', '{', '    ', 'return', ' ', '<', 'h1', '>', 'Hello, ', '{', 'this', '.', 'props', '.', 'name', '}', '!', '</', 'h1', '>', ';', '  ', '}', '}', '\\n', 'A React component should always have ', 'pure rendering logic.', ' This means that it must return the same output if its props, state, and context haven’t changed. By using ', 'PureComponent', ', you are telling React that your component complies with this requirement, so React doesn’t need to re-render as long as its props and state haven’t changed. However, your component will still re-render if a context that it’s using changes.', '\\n', 'In this example, notice that the ', 'Greeting', ' component re-renders whenever ', 'name', ' is changed (because that’s one of its props), but not when ', 'address', ' is changed (because it’s not passed to ', 'Greeting', ' as a prop):', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'PureComponent', ',', ' ', 'useState', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'class', ' Greeting ', 'extends', ' ', 'PureComponent', ' ', '{', '\\n  ', 'render', '(', ')', ' ', '{', '\\n    ', 'console', '.', 'log', '(', '\"Greeting was rendered at\"', ',', ' ', 'new', ' ', 'Date', '(', ')', '.', 'toLocaleTimeString', '(', ')', ')', ';', '\\n    ', 'return', ' ', '<', 'h3', '>', 'Hello', '{', 'this', '.', 'props', '.', 'name', ' && ', \"', '\", '}', '{', 'this', '.', 'props', '.', 'name', '}', '!', '</', 'h3', '>', ';', '\\n  ', '}', '\\n', '}', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'MyApp', '(', ')', ' ', '{', '\\n  ', 'const', ' ', '[', 'name', ',', ' ', 'setName', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'const', ' ', '[', 'address', ',', ' ', 'setAddress', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'return', ' ', '(', '\\n    ', '<', '>', '\\n      ', '<', 'label', '>', '\\n        Name', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'name', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setName', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'label', '>', '\\n        Address', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'address', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setAddress', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'Greeting', ' ', 'name', '=', '{', 'name', '}', ' ', '/>', '\\n    ', '</', '>', '\\n  ', ')', ';', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'Pitfall', 'We recommend defining components as functions instead of classes. ', 'See how to migrate.', '\\n', '\\n', 'Alternatives ', '\\n', 'Migrating from a ', 'PureComponent', ' class component to a function ', '\\n', 'We recommend using function components instead of ', 'class components', ' in new code. If you have some existing class components using ', 'PureComponent', ', here is how you can convert them. This is the original code:', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'PureComponent', ',', ' ', 'useState', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'class', ' Greeting ', 'extends', ' ', 'PureComponent', ' ', '{', '\\n  ', 'render', '(', ')', ' ', '{', '\\n    ', 'console', '.', 'log', '(', '\"Greeting was rendered at\"', ',', ' ', 'new', ' ', 'Date', '(', ')', '.', 'toLocaleTimeString', '(', ')', ')', ';', '\\n    ', 'return', ' ', '<', 'h3', '>', 'Hello', '{', 'this', '.', 'props', '.', 'name', ' && ', \"', '\", '}', '{', 'this', '.', 'props', '.', 'name', '}', '!', '</', 'h3', '>', ';', '\\n  ', '}', '\\n', '}', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'MyApp', '(', ')', ' ', '{', '\\n  ', 'const', ' ', '[', 'name', ',', ' ', 'setName', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'const', ' ', '[', 'address', ',', ' ', 'setAddress', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'return', ' ', '(', '\\n    ', '<', '>', '\\n      ', '<', 'label', '>', '\\n        Name', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'name', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setName', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'label', '>', '\\n        Address', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'address', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setAddress', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'Greeting', ' ', 'name', '=', '{', 'name', '}', ' ', '/>', '\\n    ', '</', '>', '\\n  ', ')', ';', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'When you ', 'convert this component from a class to a function,', ' wrap it in ', 'memo', ':', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'memo', ',', ' ', 'useState', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '\\n\\n', 'const', ' ', 'Greeting', ' = ', 'memo', '(', 'function', ' ', 'Greeting', '(', '{', ' ', 'name', ' ', '}', ')', ' ', '{', '\\n  ', 'console', '.', 'log', '(', '\"Greeting was rendered at\"', ',', ' ', 'new', ' ', 'Date', '(', ')', '.', 'toLocaleTimeString', '(', ')', ')', ';', '\\n  ', 'return', ' ', '<', 'h3', '>', 'Hello', '{', 'name', ' && ', \"', '\", '}', '{', 'name', '}', '!', '</', 'h3', '>', ';', '\\n', '}', ')', ';', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'MyApp', '(', ')', ' ', '{', '\\n  ', 'const', ' ', '[', 'name', ',', ' ', 'setName', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'const', ' ', '[', 'address', ',', ' ', 'setAddress', ']', ' = ', 'useState', '(', \"''\", ')', ';', '\\n  ', 'return', ' ', '(', '\\n    ', '<', '>', '\\n      ', '<', 'label', '>', '\\n        Name', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'name', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setName', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'label', '>', '\\n        Address', '{', \"': '\", '}', '\\n        ', '<', 'input', ' ', 'value', '=', '{', 'address', '}', ' ', 'onChange', '=', '{', 'e', ' ', '=>', ' ', 'setAddress', '(', 'e', '.', 'target', '.', 'value', ')', '}', ' ', '/>', '\\n      ', '</', 'label', '>', '\\n      ', '<', 'Greeting', ' ', 'name', '=', '{', 'name', '}', ' ', '/>', '\\n    ', '</', '>', '\\n  ', ')', ';', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'Note', 'Unlike ', 'PureComponent', ', ', 'memo', ' does not compare the new and the old state. In function components, calling the ', 'set', ' function', ' with the same state ', 'already prevents re-renders by default,', ' even without ', 'memo', '.', 'Previous', 'isValidElement', 'How do you like these docs?', 'Take our survey!', '©', '2024', 'Learn React', 'Quick Start', 'Installation', 'Describing the UI', 'Adding Interactivity', 'Managing State', 'Escape Hatches', 'API Reference', 'React APIs', 'React DOM APIs', 'Community', 'Code of Conduct', 'Meet the Team', 'Docs Contributors', 'Acknowledgements', 'More', 'Blog', 'React Native', 'Privacy', 'Terms', 'On this page', 'Overview', 'Reference ', 'PureComponent', ' ', 'Usage ', 'Skipping unnecessary re-renders for class components ', 'Alternatives ', 'Migrating from a ', 'PureComponent', ' class component to a function ', "}