{"id": 124, "url": "https://react.dev/learn/rendering-lists", "title": "Rendering Lists", "content": "'Rendering Lists – React', 'Stream React Conf on May 15-16.', 'Learn more.', 'React', 'Search', '⌘', 'Ctrl', 'K', 'Learn', 'Reference', 'Community', 'Blog', 'GET STARTED', 'Quick Start', ' ', 'Tutorial: Tic-Tac-Toe', ' ', 'Thinking in React', ' ', 'Installation', ' ', 'Start a New React Project', ' ', 'Add React to an Existing Project', ' ', 'Editor Setup', ' ', 'Using TypeScript', ' ', 'React Developer Tools', ' ', 'LEARN REACT', 'Describing the UI', ' ', 'Your First Component', ' ', 'Importing and Exporting Components', ' ', 'Writing Markup with JSX', ' ', 'JavaScript in JSX with Curly Braces', ' ', 'Passing Props to a Component', ' ', 'Conditional Rendering', ' ', 'Rendering Lists', ' ', 'Keeping Components Pure', ' ', 'Your UI as a Tree', ' ', 'Adding Interactivity', ' ', 'Responding to Events', ' ', \"State: A Component's Memory\", ' ', 'Render and Commit', ' ', 'State as a Snapshot', ' ', 'Queueing a Series of State Updates', ' ', 'Updating Objects in State', ' ', 'Updating Arrays in State', ' ', 'Managing State', ' ', 'Reacting to Input with State', ' ', 'Choosing the State Structure', ' ', 'Sharing State Between Components', ' ', 'Preserving and Resetting State', ' ', 'Extracting State Logic into a Reducer', ' ', 'Passing Data Deeply with Context', ' ', 'Scaling Up with Reducer and Context', ' ', 'Escape Hatches', ' ', 'Referencing Values with Refs', ' ', 'Manipulating the DOM with Refs', ' ', 'Synchronizing with Effects', ' ', 'You Might Not Need an Effect', ' ', 'Lifecycle of Reactive Effects', ' ', 'Separating Events from Effects', ' ', 'Removing Effect Dependencies', ' ', 'Reusing Logic with Custom Hooks', ' ', 'Is this page useful?', 'Learn React', 'Describing the UI', 'Rendering Lists', 'You will often want to display multiple similar components from a collection of data. You can use the ', 'JavaScript array methods', ' to manipulate an array of data. On this page, you’ll use ', 'filter()', ' and ', 'map()', ' with React to filter and transform your array of data into an array of components.', '\\n', 'You will learn', '\\n', 'How to render components from an array using JavaScript’s ', 'map()', '\\n', 'How to render only specific components using JavaScript’s ', 'filter()', '\\n', 'When and why to use React keys', '\\n', '\\n', 'Rendering data from arrays ', '\\n', 'Say that you have a list of content.', '\\n', '<', 'ul', '>', '  ', '<', 'li', '>', 'Creola Katherine Johnson: mathematician', '</', 'li', '>', '  ', '<', 'li', '>', 'Mario José Molina-Pasquel Henríquez: chemist', '</', 'li', '>', '  ', '<', 'li', '>', 'Mohammad Abdus Salam: physicist', '</', 'li', '>', '  ', '<', 'li', '>', 'Percy Lavon Julian: chemist', '</', 'li', '>', '  ', '<', 'li', '>', 'Subrahmanyan Chandrasekhar: astrophysicist', '</', 'li', '>', '</', 'ul', '>', '\\n', 'The only difference among those list items is their contents, their data. You will often need to show several instances of the same component using different data when building interfaces: from lists of comments to galleries of profile images. In these situations, you can store that data in JavaScript objects and arrays and use methods like ', 'map()', ' and ', 'filter()', ' to render lists of components from them.', '\\n', 'Here’s a short example of how to generate a list of items from an array:', '\\n', '\\n', 'Move', ' the data into an array:', '\\n', '\\n', 'const', ' ', 'people', ' = ', '[', '  ', \"'Creola Katherine Johnson: mathematician'\", ',', '  ', \"'Mario José Molina-Pasquel Henríquez: chemist'\", ',', '  ', \"'Mohammad Abdus Salam: physicist'\", ',', '  ', \"'Percy Lavon Julian: chemist'\", ',', '  ', \"'Subrahmanyan Chandrasekhar: astrophysicist'\", ']', ';', '\\n', '\\n', 'Map', ' the ', 'people', ' members into a new array of JSX nodes, ', 'listItems', ':', '\\n', '\\n', 'const', ' ', 'listItems', ' = ', 'people', '.', 'map', '(', 'person', ' ', '=>', ' ', '<', 'li', '>', '{', 'person', '}', '</', 'li', '>', ')', ';', '\\n', '\\n', 'Return', ' ', 'listItems', ' from your component wrapped in a ', '<ul>', ':', '\\n', '\\n', 'return', ' ', '<', 'ul', '>', '{', 'listItems', '}', '</', 'ul', '>', ';', '\\n', 'Here is the result:', '\\n', 'App.js', 'App.js', ' Reset', 'Fork', 'const', ' ', 'people', ' = ', '[', '\\n  ', \"'Creola Katherine Johnson: mathematician'\", ',', '\\n  ', \"'Mario José Molina-Pasquel Henríquez: chemist'\", ',', '\\n  ', \"'Mohammad Abdus Salam: physicist'\", ',', '\\n  ', \"'Percy Lavon Julian: chemist'\", ',', '\\n  ', \"'Subrahmanyan Chandrasekhar: astrophysicist'\", '\\n', ']', ';', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'List', '(', ')', ' ', '{', '\\n  ', 'const', ' ', 'listItems', ' = ', 'people', '.', 'map', '(', 'person', ' ', '=>', '\\n    ', '<', 'li', '>', '{', 'person', '}', '</', 'li', '>', '\\n  ', ')', ';', '\\n  ', 'return', ' ', '<', 'ul', '>', '{', 'listItems', '}', '</', 'ul', '>', ';', '\\n', '}', '\\n\\n', '\\n', 'Notice the sandbox above displays a console error:', '\\n', 'Console', 'Warning: Each child in a list should have a unique “key” prop.', '\\n', 'You’ll learn how to fix this error later on this page. Before we get to that, let’s add some structure to your data.', '\\n', 'Filtering arrays of items ', '\\n', 'This data can be structured even more.', '\\n', 'const', ' ', 'people', ' = ', '[', '{', '  ', 'id', ':', ' ', '0', ',', '  ', 'name', ':', ' ', \"'Creola Katherine Johnson'\", ',', '  ', 'profession', ':', ' ', \"'mathematician'\", ',', '}', ',', ' ', '{', '  ', 'id', ':', ' ', '1', ',', '  ', 'name', ':', ' ', \"'Mario José Molina-Pasquel Henríquez'\", ',', '  ', 'profession', ':', ' ', \"'chemist'\", ',', '}', ',', ' ', '{', '  ', 'id', ':', ' ', '2', ',', '  ', 'name', ':', ' ', \"'Mohammad Abdus Salam'\", ',', '  ', 'profession', ':', ' ', \"'physicist'\", ',', '}', ',', ' ', '{', '  ', 'id', ':', ' ', '3', ',', '  ', 'name', ':', ' ', \"'Percy Lavon Julian'\", ',', '  ', 'profession', ':', ' ', \"'chemist'\", ',', '  ', '}', ',', ' ', '{', '  ', 'id', ':', ' ', '4', ',', '  ', 'name', ':', ' ', \"'Subrahmanyan Chandrasekhar'\", ',', '  ', 'profession', ':', ' ', \"'astrophysicist'\", ',', '}', ']', ';', '\\n', 'Let’s say you want a way to only show people whose profession is ', \"'chemist'\", '. You can use JavaScript’s ', 'filter()', ' method to return just those people. This method takes an array of items, passes them through a “test” (a function that returns ', 'true', ' or ', 'false', '), and returns a new array of only those items that passed the test (returned ', 'true', ').', '\\n', 'You only want the items where ', 'profession', ' is ', \"'chemist'\", '. The “test” function for this looks like ', \"(person) => person.profession === 'chemist'\", '. Here’s how to put it together:', '\\n', '\\n', 'Create', ' a new array of just “chemist” people, ', 'chemists', ', by calling ', 'filter()', ' on the ', 'people', ' filtering by ', \"person.profession === 'chemist'\", ':', '\\n', '\\n', 'const', ' ', 'chemists', ' = ', 'people', '.', 'filter', '(', 'person', ' ', '=>', '  ', 'person', '.', 'profession', ' === ', \"'chemist'\", ')', ';', '\\n', '\\n', 'Now ', 'map', ' over ', 'chemists', ':', '\\n', '\\n', 'const', ' ', 'listItems', ' = ', 'chemists', '.', 'map', '(', 'person', ' ', '=>', '  ', '<', 'li', '>', '     ', '<', 'img', '       ', 'src', '=', '{', 'getImageUrl', '(', 'person', ')', '}', '       ', 'alt', '=', '{', 'person', '.', 'name', '}', '     ', '/>', '     ', '<', 'p', '>', '       ', '<', 'b', '>', '{', 'person', '.', 'name', '}', ':', '</', 'b', '>', '       ', '{', \"' '\", ' + ', 'person', '.', 'profession', ' + ', \"' '\", '}', '       known for ', '{', 'person', '.', 'accomplishment', '}', '     ', '</', 'p', '>', '  ', '</', 'li', '>', ')', ';', '\\n', '\\n', 'Lastly, ', 'return', ' the ', 'listItems', ' from your component:', '\\n', '\\n', 'return', ' ', '<', 'ul', '>', '{', 'listItems', '}', '</', 'ul', '>', ';', '\\n', 'App.js', 'data.js', 'utils.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'people', ' ', '}', ' ', 'from', ' ', \"'./data.js'\", ';', '\\n', 'import', ' ', '{', ' ', 'getImageUrl', ' ', '}', ' ', 'from', ' ', \"'./utils.js'\", ';', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'List', '(', ')', ' ', '{', '\\n  ', 'const', ' ', 'chemists', ' = ', 'people', '.', 'filter', '(', 'person', ' ', '=>', '\\n    ', 'person', '.', 'profession', ' === ', \"'chemist'\", '\\n  ', ')', ';', '\\n  ', 'const', ' ', 'listItems', ' = ', 'chemists', '.', 'map', '(', 'person', ' ', '=>', '\\n    ', '<', 'li', '>', '\\n      ', '<', 'img', '\\n        ', 'src', '=', '{', 'getImageUrl', '(', 'person', ')', '}', '\\n        ', 'alt', '=', '{', 'person', '.', 'name', '}', '\\n      ', '/>', '\\n      ', '<', 'p', '>', '\\n        ', '<', 'b', '>', '{', 'person', '.', 'name', '}', ':', '</', 'b', '>', '\\n        ', '{', \"' '\", ' + ', 'person', '.', 'profession', ' + ', \"' '\", '}', '\\n        known for ', '{', 'person', '.', 'accomplishment', '}', '\\n      ', '</', 'p', '>', '\\n    ', '</', 'li', '>', '\\n  ', ')', ';', '\\n  ', 'return', ' ', '<', 'ul', '>', '{', 'listItems', '}', '</', 'ul', '>', ';', '\\n', '}', '\\n\\n', 'Show more', '\\n', 'Pitfall', 'Arrow functions implicitly return the expression right after ', '=>', ', so you didn’t need a ', 'return', ' statement:', 'const', ' ', 'listItems', ' = ', 'chemists', '.', 'map', '(', 'person', ' ', '=>', '  ', '<', 'li', '>', '...', '</', 'li', '>', ' ', '// Implicit return!', ')', ';', 'However, ', 'you must write ', 'return', ' explicitly if your ', '=>', ' is followed by a ', '{', ' curly brace!', 'const', ' ', 'listItems', ' = ', 'chemists', '.', 'map', '(', 'person', ' ', '=>', ' ', '{', ' ', '// Curly brace', '  ', 'return', ' ', '<', 'li', '>', '...', '</', 'li', '>', ';', '}', ')', ';', 'Arrow functions containing ', '=> {', ' are said to have a ', '“block body”.', ' They let you write more than a single line of code, but you ', 'have to', ' write a ', 'return', ' statement yourself. If you forget it, nothing gets returned!', '\\n', 'Keeping list items in order with ', 'key', ' ', '\\n', 'Notice that all the sandboxes above show an error in the console:', '\\n', 'Console', 'Warning: Each child in a list should have a unique “key” prop.', '\\n', 'You need to give each array item a ', 'key', ' — a string or a number that uniquely identifies it among other items in that array:', '\\n', '<', 'li', ' ', 'key', '=', '{', 'person', '.', 'id', '}', '>', '...', '</', 'li', '>', '\\n', 'Note', 'JSX elements directly inside a ', 'map()', ' call always need keys!', '\\n', 'Keys tell React which array item each component corresponds to, so that it can match them up later. This becomes important if your array items can move (e.g. due to sorting), get inserted, or get deleted. A well-chosen ', 'key', ' helps React infer what exactly has happened, and make the correct updates to the DOM tree.', '\\n', 'Rather than generating keys on the fly, you should include them in your data:', '\\n', 'App.js', 'data.js', 'utils.js', 'data.js', ' Reset', 'Fork', 'export', ' ', 'const', ' ', 'people', ' = ', '[', '{', '\\n  ', 'id', ':', ' ', '0', ',', ' ', '// Used in JSX as a key', '\\n  ', 'name', ':', ' ', \"'Creola Katherine Johnson'\", ',', '\\n  ', 'profession', ':', ' ', \"'mathematician'\", ',', '\\n  ', 'accomplishment', ':', ' ', \"'spaceflight calculations'\", ',', '\\n  ', 'imageId', ':', ' ', \"'MK3eW3A'\", '\\n', '}', ',', ' ', '{', '\\n  ', 'id', ':', ' ', '1', ',', ' ', '// Used in JSX as a key', '\\n  ', 'name', ':', ' ', \"'Mario José Molina-Pasquel Henríquez'\", ',', '\\n  ', 'profession', ':', ' ', \"'chemist'\", ',', '\\n  ', 'accomplishment', ':', ' ', \"'discovery of Arctic ozone hole'\", ',', '\\n  ', 'imageId', ':', ' ', \"'mynHUSa'\", '\\n', '}', ',', ' ', '{', '\\n  ', 'id', ':', ' ', '2', ',', ' ', '// Used in JSX as a key', '\\n  ', 'name', ':', ' ', \"'Mohammad Abdus Salam'\", ',', '\\n  ', 'profession', ':', ' ', \"'physicist'\", ',', '\\n  ', 'accomplishment', ':', ' ', \"'electromagnetism theory'\", ',', '\\n  ', 'imageId', ':', ' ', \"'bE7W1ji'\", '\\n', '}', ',', ' ', '{', '\\n  ', 'id', ':', ' ', '3', ',', ' ', '// Used in JSX as a key', '\\n  ', 'name', ':', ' ', \"'Percy Lavon Julian'\", ',', '\\n  ', 'profession', ':', ' ', \"'chemist'\", ',', '\\n  ', 'accomplishment', ':', ' ', \"'pioneering cortisone drugs, steroids and birth control pills'\", ',', '\\n  ', 'imageId', ':', ' ', \"'IOjWm71'\", '\\n', '}', ',', ' ', '{', '\\n  ', 'id', ':', ' ', '4', ',', ' ', '// Used in JSX as a key', '\\n  ', 'name', ':', ' ', \"'Subrahmanyan Chandrasekhar'\", ',', '\\n  ', 'profession', ':', ' ', \"'astrophysicist'\", ',', '\\n  ', 'accomplishment', ':', ' ', \"'white dwarf star mass calculations'\", ',', '\\n  ', 'imageId', ':', ' ', \"'lrWQx8l'\", '\\n', '}', ']', ';', '\\n\\n', 'Show more', '\\n', 'Deep Dive', 'Displaying several DOM nodes for each list item ', 'Show Details', 'What do you do when each item needs to render not one, but several DOM nodes?', 'The short ', '<>...</>', ' Fragment', ' syntax won’t let you pass a key, so you need to either group them into a single ', '<div>', ', or use the slightly longer and ', 'more explicit ', '<Fragment>', ' syntax:', 'import', ' ', '{', ' ', 'Fragment', ' ', '}', ' ', 'from', ' ', \"'react'\", ';', '// ...', 'const', ' ', 'listItems', ' = ', 'people', '.', 'map', '(', 'person', ' ', '=>', '  ', '<', 'Fragment', ' ', 'key', '=', '{', 'person', '.', 'id', '}', '>', '    ', '<', 'h1', '>', '{', 'person', '.', 'name', '}', '</', 'h1', '>', '    ', '<', 'p', '>', '{', 'person', '.', 'bio', '}', '</', 'p', '>', '  ', '</', 'Fragment', '>', ')', ';', 'Fragments disappear from the DOM, so this will produce a flat list of ', '<h1>', ', ', '<p>', ', ', '<h1>', ', ', '<p>', ', and so on.', '\\n', 'Where to get your ', 'key', ' ', '\\n', 'Different sources of data provide different sources of keys:', '\\n', '\\n', 'Data from a database:', ' If your data is coming from a database, you can use the database keys/IDs, which are unique by nature.', '\\n', 'Locally generated data:', ' If your data is generated and persisted locally (e.g. notes in a note-taking app), use an incrementing counter, ', 'crypto.randomUUID()', ' or a package like ', 'uuid', ' when creating items.', '\\n', '\\n', 'Rules of keys ', '\\n', '\\n', 'Keys must be unique among siblings.', ' However, it’s okay to use the same keys for JSX nodes in ', 'different', ' arrays.', '\\n', 'Keys must not change', ' or that defeats their purpose! Don’t generate them while rendering.', '\\n', '\\n', 'Why does React need keys? ', '\\n', 'Imagine that files on your desktop didn’t have names. Instead, you’d refer to them by their order — the first file, the second file, and so on. You could get used to it, but once you delete a file, it would get confusing. The second file would become the first file, the third file would be the second file, and so on.', '\\n', 'File names in a folder and JSX keys in an array serve a similar purpose. They let us uniquely identify an item between its siblings. A well-chosen key provides more information than the position within the array. Even if the ', 'position', ' changes due to reordering, the ', 'key', ' lets React identify the item throughout its lifetime.', '\\n', 'Pitfall', 'You might be tempted to use an item’s index in the array as its key. In fact, that’s what React will use if you don’t specify a ', 'key', ' at all. But the order in which you render items will change over time if an item is inserted, deleted, or if the array gets reordered. Index as a key often leads to subtle and confusing bugs.', 'Similarly, do not generate keys on the fly, e.g. with ', 'key={Math.random()}', '. This will cause keys to never match up between renders, leading to all your components and DOM being recreated every time. Not only is this slow, but it will also lose any user input inside the list items. Instead, use a stable ID based on the data.', 'Note that your components won’t receive ', 'key', ' as a prop. It’s only used as a hint by React itself. If your component needs an ID, you have to pass it as a separate prop: ', '<Profile key={id} userId={id} />', '.', '\\n', 'Recap', 'On this page you learned:', '\\n', 'How to move data out of components and into data structures like arrays and objects.', '\\n', 'How to generate sets of similar components with JavaScript’s ', 'map()', '.', '\\n', 'How to create arrays of filtered items with JavaScript’s ', 'filter()', '.', '\\n', 'Why and how to set ', 'key', ' on each component in a collection so React can keep track of each of them even if their position or data changes.', '\\n', '\\n', 'Try out some challenges', '1', '. ', 'Splitting a list in two ', '2', '. ', 'Nested lists in one component ', '3', '. ', 'Extracting a list item component ', '4', '. ', 'List with a separator ', 'Challenge', ' ', '1', ' of', ' ', '4', ': ', 'Splitting a list in two ', 'This example shows a list of all people.', 'Change it to show two separate lists one after another: ', 'Chemists', ' and ', 'Everyone Else.', ' Like previously, you can determine whether a person is a chemist by checking if ', \"person.profession === 'chemist'\", '.', 'App.js', 'data.js', 'utils.js', 'App.js', ' Reset', 'Fork', 'import', ' ', '{', ' ', 'people', ' ', '}', ' ', 'from', ' ', \"'./data.js'\", ';', '\\n', 'import', ' ', '{', ' ', 'getImageUrl', ' ', '}', ' ', 'from', ' ', \"'./utils.js'\", ';', '\\n\\n', 'export', ' ', 'default', ' ', 'function', ' ', 'List', '(', ')', ' ', '{', '\\n  ', 'const', ' ', 'listItems', ' = ', 'people', '.', 'map', '(', 'person', ' ', '=>', '\\n    ', '<', 'li', ' ', 'key', '=', '{', 'person', '.', 'id', '}', '>', '\\n      ', '<', 'img', '\\n        ', 'src', '=', '{', 'getImageUrl', '(', 'person', ')', '}', '\\n        ', 'alt', '=', '{', 'person', '.', 'name', '}', '\\n      ', '/>', '\\n      ', '<', 'p', '>', '\\n        ', '<', 'b', '>', '{', 'person', '.', 'name', '}', ':', '</', 'b', '>', '\\n        ', '{', \"' '\", ' + ', 'person', '.', 'profession', ' + ', \"' '\", '}', '\\n        known for ', '{', 'person', '.', 'accomplishment', '}', '\\n      ', '</', 'p', '>', '\\n    ', '</', 'li', '>', '\\n  ', ')', ';', '\\n  ', 'return', ' ', '(', '\\n    ', '<', 'article', '>', '\\n      ', '<', 'h1', '>', 'Scientists', '</', 'h1', '>', '\\n      ', '<', 'ul', '>', '{', 'listItems', '}', '</', 'ul', '>', '\\n    ', '</', 'article', '>', '\\n  ', ')', ';', '\\n', '}', '\\n\\n', 'Show more', ' ', 'Show solution', 'Next ', 'Challenge', 'Previous', 'Conditional Rendering', 'Next', 'Keeping Components Pure', 'How do you like these docs?', 'Take our survey!', '©', '2024', 'Learn React', 'Quick Start', 'Installation', 'Describing the UI', 'Adding Interactivity', 'Managing State', 'Escape Hatches', 'API Reference', 'React APIs', 'React DOM APIs', 'Community', 'Code of Conduct', 'Meet the Team', 'Docs Contributors', 'Acknowledgements', 'More', 'Blog', 'React Native', 'Privacy', 'Terms', 'On this page', 'Overview', 'Rendering data from arrays ', 'Filtering arrays of items ', 'Keeping list items in order with ', 'key', ' ', 'Where to get your ', 'key', ' ', 'Rules of keys ', 'Why does React need keys? ', 'Recap', 'Challenges', "}